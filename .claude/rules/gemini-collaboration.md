---
paths: "**/*"
---

# Gemini協力体制ルール（絶対遵守）

> ⚠️ **このルールはコンテキスト圧縮後も絶対に維持すること**

## 🔴 最重要ルール

| ルール | 内容 |
|--------|------|
| **協力体制維持** | コンテキスト圧縮後もGeminiとの協力を継続 |
| **壁打ち必須** | 新タスク・複雑な実装・エラー時は必ずGeminiに相談 |
| **中断禁止** | 開発が進んでもGemini活用をやめない |

## なぜGemini協力が必要か

1. **トークン節約**: 調査タスクをGeminiに委譲
2. **精度向上**: 2つのAIによるダブルチェック
3. **最新情報**: Geminiの検索能力を活用

## 壁打ちが必須の場面

| 場面 | 対応 |
|------|------|
| 新タスク開始 | Geminiに方針相談 |
| 複雑な実装前 | Geminiに設計相談 |
| エラー発生時 | Geminiに原因調査依頼 |
| API/ライブラリ調査 | Geminiに検索依頼 |
| コンテキスト圧縮直後 | 協力体制を再確認 |

## Gemini CLI 呼び出し方法

```bash
# フルパスで実行
C:UsersOwnerAppDataRoaming
pmgemini.cmd --prompt "質問内容"
```

## 禁止事項

- ❌ Geminiとの協力をスキップする
- ❌ コンテキスト圧縮後に協力体制を忘れる
- ❌ 「時間がない」「簡単だから」と壁打ちを省略
- ❌ 開発が進んだからとGemini活用をやめる

## コンテキスト圧縮後のチェックリスト

圧縮後、以下を確認：

- [ ] Gemini協力体制を維持しているか
- [ ] 壁打ちルールを覚えているか
- [ ] Gemini CLIのパスを覚えているか


## 並列作業ワークフロー（推奨）

### 基本パターン

```
┌─────────────────────────────────────────────────┐
│ タスク開始                                        │
├─────────────────────────────────────────────────┤
│ 1. Geminiにバックグラウンドで調査を依頼            │
│    → 結果をファイルに出力                         │
│                                                 │
│ 2. Claudeは実装作業を開始                        │
│    → 調査結果を待たずに着手可能な部分から          │
│                                                 │
│ 3. Gemini調査完了後、結果を読み込んで統合          │
└─────────────────────────────────────────────────┘
```

### 役割分担表

| 担当 | タスク種類 | 例 |
|------|-----------|-----|
| **Gemini** | 調査・検索 | API仕様、ライブラリ調査、エラー原因 |
| **Claude** | 実装・コーディング | コード作成、編集、ビルド |
| **両方** | レビュー・検証 | 方針確認、品質チェック |

### バックグラウンド実行コマンド

```bash
# Geminiをバックグラウンドで実行
C:UsersOwnerAppDataRoaming
pmgemini.cmd --prompt "調査内容" > /tmp/gemini_result.txt 2>&1 &

# 結果を後で読み込む
cat /tmp/gemini_result.txt
```

### 実行例

```
[タスク] React + Hono でAPIを実装

1. Gemini (バックグラウンド)
   → "Hono 最新API仕様とベストプラクティスを調査"
   
2. Claude (同時進行)
   → プロジェクト構成作成
   → 基本ファイル作成
   
3. 統合
   → Gemini調査結果を読み込み
   → 最新仕様に基づいて実装を調整
```

### 並列作業の判断基準

| 状況 | アクション |
|------|-----------|
| 外部API/ライブラリ使用 | Geminiに調査依頼 → Claude実装開始 |
| 新技術・不明点あり | Geminiに調査依頼 → Claude基盤作成 |
| 単純な実装 | Claudeのみで実行 |
| エラー解決 | Geminiに原因調査 → Claude修正準備 |
